
<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <title>update</title>
</head>

<body>
  <form id="fform" enctype="multipart/form-data">
	<input type="hidden" id="token" value="eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJpc3MiOiJodHRwOlwvXC9sb2NhbGhvc3RcL2RvbmRpXC9sdW1lbjhjXC9wdWJsaWNcL2FwaVwvbG9naW4iLCJpYXQiOjE2MDc4MTgwOTYsImV4cCI6MTc2MzMzODA5NiwibmJmIjoxNjA3ODE4MDk2LCJqdGkiOiJGZFUzbmJvUlJlakczSktrIiwic3ViIjo1LCJwcnYiOiIyM2JkNWM4OTQ5ZjYwMGFkYjM5ZTcwMWM0MDA4NzJkYjdhNTk3NmY3In0.iZI0dgH6BQlEFYMP8vLKqXOFaFXepVSzr8MazGaldXA">
	<input type="file" name="foto">
	<button type="button" onclick="myFunc()"> submit</button>

  </form>
</body>
<script>
//https://arunrajeevan.medium.com/fetch-api-and-formdata-in-html-world-6b0322273260
function myFunc() {
	var formData = new FormData();
	var fileField = document.querySelector("input[type='file']");
	var token = document.getElementById("token").value;

	formData.append('name', 'kino');
	formData.append('foto', fileField.files[0]);
  
	fetch('http://localhost/dondi/lumen8c/public/api/users/5',{
	  body: formData,
      method: 'PUT',
      headers: {
        'Accept': 'application/json',
        'Content-Type': 'application/json',
        'Authorization': 'Bearer ' + token
      }
    }).then(response => response.json())
	.catch(error => console.error('Error:', error))
	.then(response => console.log('Success:', JSON.stringify(response)));
}
</script>

</html>